title: Transaction management in the R* distributed database management system
date: 2021-02-11
link: https://arxiv.org/pdf/1902.06288.pdf
time: SUNDAY, FEBRUARY 14, 2021
tags: [DBMS, Dist-sys]

Happy Valentine's Day! This seminal paper extends the two phase commit (2PC) protocol with the optimized Presumed Abort (PA) and Presumed Commit (PC) protocols.

The main goal for 2PC is to guarantee the atomicity (all or nothing execution) of transactions processed by multiple sites. 2PC was designed with several ideals in mind. In addition to guaranteeing transaction atomicity, the outcomes from processing a commit should be "forgotten" (a.k.a. little to no memory spent holding onto old, never-to-be-used-again values) within a short period of time. The coordinator should minimize total overhead in the forms of log writes and message traffic. For instance, if the coordinator crashes in the middle of a transaction, not having to repeat completed operations while still maintaining correctness on each machine might require more logging, and visa versa.

The purpose of this paper is to uphold the pre-existing conditions for atomicity while making optimizations to the performance around different edge, failure, and non-failure cases. In situations where byzantine failures occur and transactions must be aborted, the revised protocols attempt to maximize the ability to perform unilateral aborts across all machines. 

> Here, we suggest that complicated protocols developed for dealing with rare kinds of failures during commit coordination are not worth the costs that they impose on the processing of distributed transactions during normal times (i.e., when no failures occur).

For context, the authors spend the first half of the paper describing the existing 2PC protocol. To facilitate distributed updates, machines are organized in a setting consisting of a single coordinator and multiple subordinates. The coordinator serves as a single point of contact for syncing subordinates' states. The normal 2PC protocol can be visualized as follows:

