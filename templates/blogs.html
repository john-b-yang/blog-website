{% extends "base.html" %}

{% block content %}
  <h3 class="post-title"><b>Posts</b></h3>

  {% if tag == 'all' %}
  <div class="block-selected">
  {% else %}
  <div class="block">
  {% endif %}
    <a href="{{ url_for("blogs") }}">All</a>
  </div>

  {% for t in tags %}
    {% if t == tag %}
    <div class="block-selected">
    {% else %}
    <div class="block">
    {% endif %}
      <a href="{{ url_for("blog_tag", tag=t) }}">{{ t }}</a>
    </div>
  {% endfor %}

  <ul>
  {% for page in pages | sort(attribute='date', reverse=True) %}
    <li style="margin-bottom:10px;">
      <b>{{ page.title }}</b><br>
      {{ page.date }}
      {% if page.meta.tags|length %}
        | <i class="fa fa-tags fa-lg"></i>
        {% for page_tag in page.meta.tags %}
          <div class="block">
            <a href="{{ url_for("blog_tag", tag=page_tag) }}">{{ page_tag }}</a>
          </div>
        {% endfor %}
      {% endif %}
      <br>
      {{ page.description }} <br>
      <a class="left" href="{{ url_for("page", path=page.path) }}"><i>Read More</i></a>
    </li>
    {% if not loop.last %}<br>{% endif %}
  {% else %}
    <li>No page.</li>
  {% endfor %}
  </ul>

{% endblock content %}
